#summary ezus在MCS51系列单片机上的移植
#labels Phase-Implementation

= 简介 =

本页介绍ezus在MCS51系列单片机上的移植，移植测试在EdSim51模拟器上完成

= 详细说明 =
== 基本概念 ==
  * 宇宙（universe）：系统所有资源的总和，硬件可用资源是系统运行的基础，软件规则是系统运行的轨迹描述。
  * 大爆炸（big bang）：系统启动的过程。大爆炸理论认为宇宙诞生于一次大爆炸，在大爆炸的瞬间宇宙的运行规则就确定了。
  * 黑洞（black hole）：系统终止的过程。事实上，黑洞并非系统运行的终止时点，当黑洞不断吞噬周围的物质时，自身质量也在增大，而体积却在缩小，当物质密度达到某个临界值时，又一次的大爆炸将发生，于是一个新的宇宙诞生了。
  * 道（Tao）：老子的“道”可以指称天地万物及其运行规律，它不以人的意志而改变。
  * 德（Teh）：老子的“德”可以理解为“顺势而为”，即人主观上顺应“道”的规律行事。
  * 混沌（Chaos）：传说中指宇宙形成前模糊一团的景象。
  * 世界（World）：宇宙在人脑中的主观影像。

== 文件及目录说明 ==
  * board/edsim51/edsim51/bb.c 包含系统启动时的运行代码（bb 是 Big Bang 的缩写)
  * board/edsim51/edsim51/bh.c 包含系统退出时的运行代码（bh 是 Black Hole 的缩写）
  * core/ 包含系统运行的规则，如任务调度算法、存储分配策略等

== 实现细节 ==
=== 8051单片机的复位状态 ===
复位就是指通过某种手段使单片机内部某些资源一种固定的初始状态，以确保单片机每次复位后都能在某一固定的环境中从某一固定的入口地址处开始运行，8051复位后片内各特殊功能寄存器状态如下：
  * PC内容为0000H，使单片机从起始地址0000H开始执行程序。所以单片机运行出错或进入死循环，可以按复位键重启
  * ACC内容为00H。
  * PSW内容为00H，意义为复位后，上次运算没有产生进位或借位，也没有产生半进位或半借位，工作寄存器组R0—R7定位在内部RAM的00-07单元，上次运算没有溢出，累加器中“1”的个数为偶数。
  * SP内容为07H，意义为堆栈指针SP指向内部数据存储器的07单元，即堆栈从08单元开始，
  * DPTR为0000H
  * PO-P3内容为FFH
  * IP的第六位为0，高六位的值不变
  * IE次高位即位6的值不定，其于位全为0
  * TMDO内容为00
  * TCON内容为00
  * TLO内容为00
  * THO内容为00
  * TL1内容为00
  * TH1内容为00
  * SCON内容为00
  * PCON的位六位五位四位内容不变，其余位都为0
  * 除以上寄存器外，其余的数据寄存器内容都为随机数。

= 参考 =
  * Intel MCS-51 <a href="http://en.wikipedia.org/wiki/Intel_MCS-51">http://en.wikipedia.org/wiki/Intel_MCS-51</a>
  * EdSim51 - The 8051 Simulator for Teachers and Students <a href="http://www.edsim51.com/">http://www.edsim51.com/</a>
  * JMCE - Java Multiple Computer Emulator <a href="http://www.viara.cn/en/jmce/">http://www.viara.cn/en/jmce/</a>
  * CMON51 - CMON51 is a monitor program for the 8051 family of microcontrollers.<a href="http://cmon51.sourceforge.net/">http://cmon51.sourceforge.net/</a>
  * 嵌入式实时操作系统small RTOS51原理及应用 (陈明记 周立功 等编著)
  * Operating Systems Design and Implementation, Third Edition (By Andrew S. Tanenbaum -  Vrije Universiteit Amsterdam, The Netherlands, Albert S. Woodhull -  Amherst, Massachusetts)